@startuml
!theme blueprint
class Utilisateur {
  - id_utilisateur : int
  - pseudo : String
  - mot_de_passe : String <<hash>>
  - nom : String
  - prenom : String
  - date_de_naissance : Date
  - sexe : String

  + creer_activite()
  + liker_activite(id_activite)
  + unliker_activite(id_activite)
  + commenter_activite(id_activite, commentaire)

 }
class Activite {
  - id_activite : int
  - id_utilisateur : int
  - sport : Sport
  - date_activite : Date
  - distance : float
  - duree : Time

  + calcule_vitesse(): float
  + lister_commentaires():set
  + lister_likes():set
}
class Commentaire {
  - id_commentaire : int
  - id_activite : int
  - id_auteur : int
  - commentaire : String
  - date_commentaire : DateTime
}
class Like {
  - id_like : int
  - id_activite : int
  - id_auteur : int
}

class Abonnement {
  - id_utilisateur_suiveur : int
  - id_utilisateur_suivi : int
}


class Statistiques {
  + calcule_nombre_activites(id_utilisateur): int
  + calcule_distance_totale(id_utilisateur): float
  + calcule_duree_totale(id_utilisateur): int
}


class Service_activite {
  + modifier_activite(id_utilisateur)
  + supprimer_activite(id_utilisateur)
  + lister_activite(id_utilisateur):list
  + creer_fil(id_utilisateur):list
}
class Service_abonnement {
  + creer_abonnement(id_utilisateur)
  + supprimer_abonnement(id_utilisateur)
  + lister_utilisateur_suivi(id_utilisateur):list
  + lister_utilisateur_suiveur(id_utilisateur):list
}
enum Sport {
  Course
  Cyclisme
  Natation
  Randonnee
}
' --- Associations / multiplicités ---
Utilisateur "1" --> "0..*" Activite : Possède
Utilisateur "0..*" --> "0..*" Activite : Liker/commenter

Activite "1" -- "0..*" Commentaire : Possède
Activite "1" -- "0..*" Like : Possède
Activite --> Sport
' Abonnement référence deux rôles vers Utilisateur (suiveur / suivi)
Utilisateur "0..*" --> "1" Abonnement : suivi
Abonnement "0..*" --> "1" Utilisateur : suit

' Relations conceptuelles (dépendances / liens 1-1)
Statistiques  ..>  Utilisateur : renseigne

Service_activite  ..>  Utilisateur : modifie/renseigne
Service_abonnement  ..>  Utilisateur : modifie/renseigne
@enduml
